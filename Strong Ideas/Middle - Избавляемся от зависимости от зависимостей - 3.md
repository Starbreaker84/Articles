В первом материале по этой теме мы разобрали 9 видов зависимостей, а во втором материале изучили три характеристики любой зависимости, и как правильно о них думать. Теперь вернёмся к исходным 9 видам, и рассмотрим, как с ними разбираться. Но предварительно дадим точное и практическое определение зависимости.

**Зависимость - это причинно-следственная связь**.

Всё, что обсуждалось в первых двух материалах, может быть напрямую применено и к повседневным вещам в физическом мире. На самом деле, все темы разрешения зависимостей изоморфны ключевому вопросу о такой физической причинности.

Зависит ли планировщик раунд-робин от своих задач?
Зависит ли моя способность складывать коробки от содержимого коробок? Не зависит до тех пор, пока не попадётся слишком тяжёлая коробка.

Если B может сломаться, значит, у нас всё зависит от B.
Твой обед есть следствие действий жены, если только у вас не отключили электричество. Однако ваша жена сама не отключала электричество.

Если мы можем использовать C, когда B сломалось, значит, мы не зависим от B?
Зависит ли мокрость травы от только что прошедшего дождя, когда поливалка лужайки была запрограммирован на включение, если бы дождя не было?

Существует две категории причинности. Первая - "**общая причинность**" - имеет дело с общими утверждениями о категориях ("случайная искра вызывает пожар"). Вторая - "**фактическая причинность**", которая имеет дело с утверждениями о конкретных событиях: "шальная искра в пекарне Томаса Фарринера на Паддинг-лейн вызвала Великий лондонский пожар 2 сентября 1666 года". Поскольку рассматриваемые нами зависимости имеют дело с конкретными программами и конкретными сценариями, **будет уместна именно фактическая причинность**.

Было предложено несколько формальных определений фактической причинности, однако не существует критерия для определения того, можно ли считать некоторое определение "правильным". Приводятся лишь вторичные аргументы в пользу того, что оно полезно, и даются рекомендации просто из интуиции и здравого смысла (который часто обманчив). Например, в юриспруденции принято считать так: вас могут обвинить в убийстве, если полицейский во время погони за вами упал и разбился насмерть - считается, что вы "вызвали" его смерть. По этой логике, в частности, получается, что мокрость травы не зависит от прошедшего дождя (т.к. трава всё равно была бы мокрой), что противоречит интуиции.

Однако, вероятно, эта интуиция (ближе к здравому смыслу) объясняется тем, что дождь и поливайка - явно совершенно разные вещи, сами по себе никак друг с другом не связанные. Однако существуют изоморфные вопросы: "прохладно ли сейчас в моей квартире потому, что я включил кондиционер в 6:55, когда он должен был автоматически включиться в 7:00?", на которые интуитивный ответ - нет (прохладно стало бы в любом случае, т.к. кондиционер всё равно обязательно включится).

Точно так же интуиция говорит, что успех оплаты карточкой в интернете зависит от того, какой платежный сервис был физически использован на самом деле. Однако странно было бы заботиться о том, к какому из множества дублирующих друг друга физических серверов подключён мой браузер, из которого я осуществляю платёж. Большая часть литературы о фактической причинности обычно рассматривает недостатки "наивного" определения и фокусируется на примерах вроде дождя и поливайки, и тем не менее соответствующее определение довольно хорошее, а проблемы в основном возникают, когда теоретики начинают играть с дождём и поливайкой, игнорируя их качественные различия.

Мы не будем обсуждать правильное определение фактической причинности. Есть такой Joseph Halpern - профессор Корнельского университета, десятки лет занимающийся этой темой, можете найти его книгу о причинности в знаниях (к сожалению, не переведена на русский).

Так или иначе, но мы добрались до финала: универсальное определение зависимости применительно к программным проектам.

**Свойство P, определяемое в некоторой вычислительной модели, зависит от компонента A тогда и только тогда, когда A - фактическая причина P (относительно пространства допустимых изменений A)**.

Далее рассмотрим, как в рамках этого определения правильно разрешаются 9 видов зависимостей. 
